
<h2>Question:</h2>
<div class="question-display">
  <h3><%= @question.title %></h3>
  <p><%= @question.content %></p>
  <text class="question-details">created by <%= @question.user.full_name %> at <%= @question.created_at.strftime("%m-%d-%y at %H:%M") %></text>
  <% if current_user == @question.user %>
    <%= link_to "Edit", edit_question_path(@question) %>
    <%= link_to "Delete", question_path(@question), :method => "delete" %>
  <% end %>
  <div class="comment-list">
    <p class="comment-list-header">Question Comments:</p>
    <ul>
      <% @question.comments.each do |comment| %>
        <li class="answer-comment">
          <%= "#{comment.content} (#{comment.user.full_name} at #{comment.created_at.strftime("%m-%d-%y at %H:%M")})" %>
        </li>
      <% end %>
    </ul>
  </div>
  <%= link_to "Add Comment", @question, :class => "comment-form-link" %>
  <div class="comment-form hidden">
    <%= form_for :comment, url: '/comments' do |f| %>
      <%= f.hidden_field :commentable_type, :value => "Question" %>
      <%= f.hidden_field :commentable_id, :value => @question.id %>

      <%= f.text_area :content %>
      <%= f.submit %>
    <% end %>
  </div>
</div>

<div id="answers">
  <h3>Answers:</h3>
  <ul>
    <% @question.answers.each do |answer| %>
      <%= render :partial => 'shared/answer_display', :locals => { answer: answer, question: @question } %>
    <% end %>
  </ul>
</div>

<% if logged_in? && current_user != @question.user %>
  <h3>Submit an Answer:</h3>
  <%= render :partial => 'shared/new_answer_form', :locals => { question: @question, answer: @answer } %>
<% end %>